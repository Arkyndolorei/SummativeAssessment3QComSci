<!DOCTYPE html>
<html lang="cy">
	<head>
		<meta charset="utf-8">
        <title>Game Website</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@300..700&display=swap" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="css/all.min.css">
<style>  
.fredoka {
  font-family: "Fredoka", sans-serif;
  font-style: normal;
}
@font-face {
	font-family: mario-font;
	src: url("https://dl.dropboxusercontent.com/s/c7c7j86yaj11et9/SuperMario256.ttf?dl=0");
}

* {
	box-sizing: border-box;
}
body {
  align-items: center;
  background: linear-gradient(gold, goldenrod);
  background-attachment: fixed;
  display: flex;
  font-family: 'mario-font', sans-serif;
  height: 100%;
  justify-content: center;
  margin: 0;
  padding: 100px 0;
	width: 100%;	
	-moz-osx-font-smoothing: grayscale;
	-moz-text-size-adjust: 100%;
	-ms-text-size-adjust: 100%;
	-webkit-font-smoothing: antialiased;
	-webkit-text-size-adjust: 100%;
}
body:after {
 background-size: 100%;
  background-image: url("https://images3.alphacoders.com/130/thumb-1920-1302521.jpg");
	background-repeat:no-repeat;
  bottom: 0;
	content: '';
  height: calc(100% + 200px);

	position: absolute;
  top: 0;
  width: 100%;
}

.game-container {
	background-color: #efefef;
	border: 1px solid #ccc;
	padding: 60px 40px 40px;
	margin: 0 auto;
	z-index: 1;
	border-radius: 10px;
	position: relative;
	margin-top: 60px;
	width: 832px;
}

.game-container:after {
	content: '';
	position: absolute;
	width: calc(100% - 40px);
	height: calc(100% - 60px);
	background-color: #039bd6;
	z-index: 200;
	top: 30px;
	left: 20px;
	border-radius: 5px;
	background-size: 40%;
	/* opacity: 0.5; */
	border: 1px solid #aaa;
}

.cards {
	margin: 20px auto 0;
}

.card {
	height: 100px;
	width: 100px;
	margin-right: 25px;
	margin-bottom: 50px;
	position: relative;
	border-radius: 5px;
	z-index: 1000;
}

.card-front, .card-back {
	position: absolute;
	width: 100%;
	height: 100%;
	transition: all .3s linear;
	backface-visibility: hidden;
}

.card-front {
	display: flex;
	align-items: center;
	justify-content: center;
	transform: rotateY(-180deg);
	border-radius: 5px;
	background-color: #ddd;
	border: 4px solid #fff;
	background: linear-gradient(#efefef, #ddd);
}

.card.match.red .card-front {
	background-color: #F25F6A;
	background: linear-gradient(#f58f96, #F25F6A);
}

.card.match.blue .card-front {
	background-color: #47ACD6;
	background: linear-gradient(#91cde6, #47ACD6);
}

.card-back {  
	background-image: url("https://github.com/Arkyndolorei/SATRANSPARENT/blob/main/9.png?raw=true");
	background-size: calc(100% + 14px);
	background-repeat: no-repeat;
	background-position: center;
	transform: rotateY(0deg);
	background-color: white ;
}

.card.reveal .card-front,
.card.match .card-front {
	transform: rotateY(0deg);
}

.card.match, .card.reveal {
	pointer-events: none;
}

.card.reveal .card-back,
.card.match .card-back  {
	transform: rotateY(180deg);
}

.player1-turn .card:hover {
	cursor: pointer;
	outline: 5px solid #F25F6A;
}


.card-image {
	width: 65px;
	height: 65px;
	background-position: center;
	background-size: contain;
	background-repeat: no-repeat;
}

.card[data-card-type="fireflower"] .card-image {
	background-image: url("https://github.com/Arkyndolorei/SATRANSPARENT/blob/main/1.png?raw=true");
}	
.card[data-card-type="greenmushroom"] .card-image {
	background-image: url("https://github.com/Arkyndolorei/SATRANSPARENT/blob/main/10.png?raw=true");
}
.card[data-card-type="iceflower"] .card-image {
	background-image: url("https://github.com/Arkyndolorei/SATRANSPARENT/blob/main/2.png?raw=true");
}
.card[data-card-type="leaf"] .card-image{
	background-image: url("https://github.com/Arkyndolorei/SATRANSPARENT/blob/main/3.png?raw=true");
}
.card[data-card-type="mushroom"] .card-image{
	background-image: url("https://github.com/Arkyndolorei/SATRANSPARENT/blob/main/4.png?raw=true");
}
.card[data-card-type="silvercoin"] .card-image {
	background-image: url("https://github.com/Arkyndolorei/SATRANSPARENT/blob/main/5.png?raw=true");
}
.card[data-card-type="star"] .card-image {
	background-image: url("https://github.com/Arkyndolorei/SATRANSPARENT/blob/main/8.png?raw=true");
}
.card[data-card-type="yoshi"] .card-image {
	background-image: url("https://github.com/Arkyndolorei/SATRANSPARENT/blob/main/6.png?raw=true");	
}
.card[data-card-type="yellowcoin"] .card-image {
	background-image: url("https://github.com/Arkyndolorei/SATRANSPARENT/blob/main/7.png?raw=true");
}


header.game-header {
	width: 100%;
	position: absolute;
	top: -75px;
	left: -10px;
}

.game-header section, footer.game-footer {
	border: 1px solid #ccc;
	background-color: #fff;
	border-radius: 66px;
	position: absolute;
}

.game-header section {
	width: 35%;
	background: white;
	right: 0;
}

.game-header section:first-of-type {
	left: 0;
}

.player1_profile {
	width: 95px;
	height: 95px;
	padding: 10px;
	border: 1px solid #ccc;
	border-radius: 100%;
	background-color: #fff;
}
.player1_profile img {
	width: 75px;
	border-radius: 100%;
	border: 1px solid #ccc;
	height: 75px;
}



.player1_profile img {
	background-color: #F25F6A;
	background: linear-gradient(#f58f96, #F25F6A);
}

.info {
	position: absolute;
	height: 100%;
	top: 0;
	width: calc(100% - 95px);
	right: 0;
	padding: 15px;
}
.info h4 {
	text-shadow: 2px 2px #222;
	font-size: 30px;
	margin: 0;
}

.info h3 {
	margin-top: 10px;
	font-size: 23px;
}
.info h4{ 
	color: #ed2121;
}

.game-footer {
	width: 70%;
	height: 84px;
	align-items:center;
  left: 125px;
	padding: 14px 30px;
	z-index: 300;


}

.game-footer h2{
	display: inline-block;
	color: #ffffff00;
}

button {
	border: 2px solid #bee975;
	color: white;
	height: 55px;
	padding: 0 40px;
	border-radius: 20px;
	border-bottom-width: 4px;
	font-size: 17px;
	text-shadow: 2px 3px 1px #333;
	position: relative;
	width: 150px;
	background-color: #40af46;
font-family: "Fredoka", sans-serif;
	font-weight: 700;
	cursor: pointer;
	transition: transform .05s linear;
  align-items:center;
}

button span.hilight {
	height: calc(50% + 2px);
	background-color: #c1dd79;
	width: calc(100% - 6px);
	position: absolute;
	left: 3px;
	top: 2px;
	border-radius: 30px;
	background: linear-gradient(#d6e679 20%, #7cb13f);
}


button span.text {
	position: absolute;
	width: 100%;
	left: 0;
	top: 19px;
}

button:hover {
	transform: scale(1.07);
}

.tabs {
  display: flex;
  height: 95px;
  align-items:center;
  margin-left:50px;
  color: black;
}

</style>
    </head>
	<body>

<div class="game-container">

			<header class="game-header">
				<section>
					<div class="player1_profile">
						<img src="https://github.com/Arkyndolorei/SATRANSPARENT/blob/main/636715327_26543601181903483_4050230068135299837_n.jpg?raw=true" alt="idk">
					</div>
					<div class="info">
						<h4>YOU</h4>
						<h3>Points: <span class="player1-pts">0</span></h3>
					</div>
				</section>
				<section>
        <div class="tabscont">
					<div class="tabs">
                        <h3>â€Ž</h3>
            <a href="index.html"><i class="fa-solid fa-gamepad" style="font-size: 67pt; color:#f8ce04;text-shadow: 2px 2px black;"></i></a>
            <a href="about.html"><i class="fa-solid fa-circle-info" style="font-size: 50pt;color:#f8ce04;text-shadow: 2px 2px black;"></i></a>
					</div>
                
          </div>
				</section>
			</header>

			<table >
				<tbody class="cards">

				</tbody>
			</table>
				
			<footer class="game-footer">
					<h2>Round: <span class="rounds">0</span></h2>
					<button class="restartGame"><span class="hilight"></span><span class="text">Restart Game</span></button>
			</footer>
    </div>
    <script>
var ready = function ( fn ) {
	if ( typeof fn !== 'function' ) return;
	if ( document.readyState === 'interactive' || document.readyState === 'complete' ) {
			return fn();
	}
	document.addEventListener( 'DOMContentLoaded', fn, false );
};

var memoryGame = (function() {
	var gameContainer = document.querySelector('.game-container');
	var cardContainer = document.querySelector('.cards');
	var winnerName = document.querySelector('.winnerName');
	var restartButtons = document.querySelectorAll('.restartGame');

	var playerWin_count = document.querySelector('.winnerColumn .player1_profile h2 span');
	var roundsDiv = document.querySelector('.rounds');
	
	var matchedCards = 0;
	var rounds = 1;
	
	var player = {
		string: 'player1',
		points: 0,
		val1: '',
		val2: '',
		wins: 0
	};

	var cardItems = ['silvercoin', 'yellowcoin', 'mushroom', 'greenmushroom', 'fireflower', 'iceflower', 'star', 'leaf', 'yoshi'];

	var dupCards = cardItems.map(function(item) {
		return [item, item];
	}).reduce(function(a, b) { return a.concat(b) });

	function shuffle(array) {
		var currentIndex = array.length, temporaryValue, randomIndex;
		while (0 !== currentIndex) {
			randomIndex = Math.floor(Math.random() * currentIndex);
			currentIndex -= 1;
			temporaryValue = array[currentIndex];
			array[currentIndex] = array[randomIndex];
			array[randomIndex] = temporaryValue;
		}
		return array;
	}

	function chunkArray(myArray, chunk_size){
		var tempArray = [];
		for (var index = 0; index < myArray.length; index += chunk_size) {
			var myChunk = myArray.slice(index, index + chunk_size);
			tempArray.push(myChunk);
		}
		return tempArray;
	}
	
	ready(function() {

		startGame();

		for(let b = 0; b < restartButtons.length; b ++ ) {
			restartButtons[b].addEventListener('click', function(){
				reStart();
				setTimeout(function(){
					startGame();
				}, 700);
			});
		}

		function checkMatch(card, color) {
			var allCards = document.querySelectorAll('.card');
			
			if(player.val1 === '' ){
				player.val1 = card.dataset.cardType;
			} else if(player.val2 === '' ){
				player.val2 = card.dataset.cardType;
	
				if(player.val1 === player.val2) {

					matchedCards += 2;
					player.points += 1;
					setTimeout(function(){
						var scoreDisplay = document.querySelector('.player1-pts');
						if(scoreDisplay) scoreDisplay.innerHTML = player.points;
						
						for(let y = 0; y < allCards.length; y ++ ){	
							if(allCards[y].classList.contains('reveal')){
								allCards[y].classList.add(color, 'match');
							}
						}					
					}, 700);

					if(matchedCards === dupCards.length) {
						gameEnds();
					}
					player.val1 = player.val2 = '';
				} else {

					player.val1 = player.val2 = '';
					setTimeout(function(){
						for(let n = 0; n < allCards.length; n ++ ){
							if(!allCards[n].classList.contains('match')) {
								allCards[n].classList.remove('reveal');
							}
						}
					}, 700);
				}
			}
		}

		function startGame() {
			roundsDiv.innerHTML = rounds;
			var randomArray = shuffle(dupCards);
			var chunkedArray = chunkArray(randomArray, 6);
			
			cardContainer.innerHTML = '';
			var output = document.createDocumentFragment();
			
			for(let i = 0; i < chunkedArray.length; i++) {
				var tr = document.createElement('tr');
				for(let n = 0; n < chunkedArray[i].length; n++ ) {
					tr.innerHTML += `<td>
						<div class="card" data-card-type="${chunkedArray[i][n]}">
							<div class="card-front"><div class="card-image"></div></div>
							<div class="card-back"></div>
						</div>
					</td>`;
				}
				output.appendChild(tr);
			}
			cardContainer.appendChild(output);

			var cards = document.querySelectorAll('.card');
			for(let i = 0; i < cards.length; i ++ ) {
				cards[i].addEventListener('click', function() {
					
					if(this.classList.contains('reveal') || this.classList.contains('match')) return;
					
					this.classList.add('reveal');
					checkMatch(this, 'red');
				});
			}
		}

		function reStart(){
			if( matchedCards === dupCards.length ) {
				rounds += 1;
			}
			matchedCards = 0;
			player.points = 0;
			
			var scoreDisplay = document.querySelector('.player1-pts');
			if(scoreDisplay) scoreDisplay.innerHTML = 0;
			
			player.val1 = player.val2 = '';
			
			if( gameContainer.classList.contains('endGame') ){
				gameContainer.classList.remove('endGame', 'player1-wins');
			}	
		}

	});
})();

    </script>
        </body>
    </html>